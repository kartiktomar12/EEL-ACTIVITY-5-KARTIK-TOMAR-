 #include <stdio.h>

struct colony_number {
    int people;
    char name_of_colony[39];
    float per_house_population;
};

int main() {
    struct colony_number colony[5];
    int i, j, c;
    int k = 0;                     
    int running = 1;               
    struct colony_number temp;

    while (running) {
        printf("\nMenu:\n");
        printf("1. Add entry\n");
        printf("2. Display records\n");
        printf("3. Sort records (by people, descending)\n");
        printf("4. Search record (by name)\n");
        printf("5. Exit\n");
        printf("Enter your choice: ");
        scanf("%d", &c);

        switch (c) {

        case 1:
            printf("How many records do you want to add ? ");
            scanf("%d", &k);
           

            for (i = 0; i < k; i++) {
                printf("\nEnter details for colony %d\n", i + 1);
                printf("Name of colony: ");
                scanf("%38s", colony[i].name_of_colony);
                printf("People: ");
                scanf("%d", &colony[i].people);
                printf("Per house population: ");
                scanf("%f", &colony[i].per_house_population);
            }
            break;

        case 2:
            if (k == 0) {
                printf("No records to display. Add entries first.\n");
                break;
            }

            printf("\n--- Colony Details ---\n");
            printf("%-20s %-10s %-15s\n", "Colony Name", "People", "Per House Pop.");
            for (i = 0; i < k; i++) {
                printf("%-20s %-10d %-15.2f\n",
                       colony[i].name_of_colony,
                       colony[i].people,
                       colony[i].per_house_population);
            }
            break;

        case 3:
          
            for (i = 0; i < k - 1; i++) {
                for (j = i + 1; j < k; j++) {
                    if (colony[i].people < colony[j].people) {
                        temp = colony[i];
                        colony[i] = colony[j];
                        colony[j] = temp;
                    }
                }
            }

            printf("\nRecords sorted by number of people (descending).\n");
               printf("%-20s %-10s %-10s\n", "Colony Name", "People", "Per House Pop.");
                printf("--------------------------------------------\n");
                for (i = 0; i < k; i++) {
                    printf("%-20s %-10d %-10.2f\n", colony[i].name_of_colony, colony[i].people, colony[i].per_house_population);
                }

            break;

        case 4: {
           
            char search_name[39];
            int found = 0;

            printf("Enter colony name to search: ");
            scanf("%38s", search_name);

            for (i = 0; i < k; i++) {
                int same = 1;
                int x = 0;

              
                while (colony[i].name_of_colony[x] != '\0' ||
                       search_name[x] != '\0') {

                    if (colony[i].name_of_colony[x] != search_name[x]) {
                        same = 0;
                        break;
                    }
                    x++;
                }

                if (same) {
                    printf("Record found:\n");
                    printf("%-20s %-10d %-15.2f\n",
                           colony[i].name_of_colony,
                           colony[i].people,
                           colony[i].per_house_population);
                    found = 1;
                    break;
                }
            }

            if (!found) {
                printf("No colony found with name %s\n", search_name);
            }
            break;
        }

        case 5:
            printf("Exiting the program.\n");
            running = 0;   // stop the while loop
            break;

        default:
            printf("Invalid choice! Please select a valid option.\n");
        }
    }

    return 0;
}

